<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Reminder System</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Load Supabase CDN here -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

    <!-- OneSignal SDK for Web Push Notifications -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
        window.OneSignalDeferred = window.OneSignalDeferred || [];
        OneSignalDeferred.push(async function(OneSignal) {
            await OneSignal.init({
                appId: "587977cc-fe89-4ed0-bd95-0b156cdf4f2e",  // Replace with your actual OneSignal App ID
                notifyButton: {
                    enable: true,
                },
                serviceWorkerPath: 'OneSignalSDKWorker.js',
                serviceWorkerUpdaterPath: 'OneSignalSDKUpdaterWorker.js'
            });
        });
    </script>
</head>
<body>
    <h1>Appointment Reminder System</h1>

    <div class="form-container">
        <label for="isr-name">ISR/Employee Name:</label>
        <input type="text" id="isr-name" required>

        <label for="patient-name">Patient Name:</label>
        <input type="text" id="patient-name" required>
        
        <label for="location">Location:</label>
        <input type="text" id="location" required>
        
        <label for="appointment-time">Appointment Time:</label>
        <input type="datetime-local" id="appointment-time" required>
        
        <label for="reminder-time">Reminder Time:</label>
        <input type="datetime-local" id="reminder-time" required>

        <button onclick="setReminder()">Set Reminder</button>
    </div>

    <div id="status"></div>

    <h2>Scheduled Reminders</h2>

    <div class="filter-container">
        <label for="filter-isr">Filter by ISR/Employee:</label>
        <input type="text" id="filter-isr" oninput="filterReminders()">

        <label for="filter-location">Filter by Location:</label>
        <input type="text" id="filter-location" oninput="filterReminders()">
    </div>

    <ul id="reminder-list"></ul>

    <!-- External JavaScript for handling logic -->
    <script src="script.js"></script>
</body>
</html>
